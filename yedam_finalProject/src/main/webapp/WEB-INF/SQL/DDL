-- 이홍제

-- 회원
CREATE TABLE member (
    mem_no      NUMBER(10)      PRIMARY KEY,
    email       VARCHAR2(30)    NOT NULL,
    name        VARCHAR2(30)    NOT NULL,
    password    VARCHAR2(30)    NOT NULL,
    address     VARCHAR2(100)    NOT NULL,
    address_detail  VARCHAR2(100) ,
    tel         VARCHAR2(20)    NOT NULL,
    mem_type    VARCHAR2(10)    NOT NULL,
    buisness_num VARCHAR2(20),
    buisness_type VARCHAR2(10),
    status      VARCHAR2(10)    NOT NULL
    );

-- 회원가입신청
CREATE TABLE registration (
    regis_serial    NUMBER(10)   PRIMARY KEY,
    mem_no          NUMBER(10)   NOT NULL
    );

-- 회원번호 시퀀스 생성
CREATE SEQUENCE mem_seq
INCREMENT BY 1
START WITH 1;

----------------------------------------------

-- 공연
CREATE TABLE show (
    show_no     NUMBER(10)      PRIMARY KEY,
    name        VARCHAR2(40)    NOT NULL,
    price       NUMBER(20)      NOT NULL,
    thumbnail   VARCHAR2(50),
    tel         VARCHAR2(20)    NOT NULL,
    address     VARCHAR2(50)    NOT NULL,
    detail      CLOB            NOT NULL,
    start_date  DATE            NOT NULL,
    end_date    DATE            NOT NULL,
    seat_row    VARCHAR2(10)    NOT NULL,
    seat_col    VARCHAR2(10)    NOT NULL,
    category    VARCHAR2(20)    NOT NULL,
    approval    VARCHAR2(5)     NOT NULL,
    mem_no      NUMBER(10)      NOT NULL
    );

-- 공연번호 시퀀스 생성
CREATE SEQUENCE show_seq
INCREMENT BY 1
START WITH 1;

-- 공연회차정보
CREATE TABLE round (
    rnd_no      NUMBER(10)      PRIMARY KEY,
    rnd_time    DATE            NOT NULL,
    rnd_date    DATE            NOT NULL,
    show_no     NUMBER(10)      NOT NULL
    );

-- 공연예약
CREATE TABLE show_reservation (
    show_res_no NUMBER(10)      PRIMARY KEY,
    category    VARCHAR2(20)    NOT NULL,
    mem_no      NUMBER(10)      NOT NULL,
    rnd_no      NUMBER(10)      NOT NULL,
    res_time    DATE            NOT NULL,
    amount      NUMBER(10)      NOT NULL,
    payment     VARCHAR2(20)    NOT NULL,
    status      VARCHAR2(30)    NOT NULL
    );

-- 공연예약번호 시퀀스 생성
CREATE SEQUENCE show_res_seq
INCREMENT BY 1
START WITH 1;

-- 예약좌석정보
CREATE TABLE seat (
    show_res_no NUMBER(10)      PRIMARY KEY,
    seat_detail VARCHAR2(10)    NOT NULL
    );


-- 조준우
--시설 정보 테이블 생성, 입력.
CREATE SEQUENCE SEQ_FAC
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE FACILITY(
fac_no NUMBER(10) PRIMARY KEY,
category VARCHAR2(10) default '시설' NOT NULL,
thumbnail VARCHAR2(1000) NOT NULL,
price VARCHAR2(20) NOT NULL,
start_date VARCHAR2(10) NOT NULL,
end_date VARCHAR2(10) NOT NULL,
start_time VARCHAR2(10) NOT NULL,
end_time VARCHAR2(10) NOT NULL,
tel VARCHAR2(20) NOT NULL,
address VARCHAR2(50) NOT NULL,
detail CLOB NOT NULL,
approval VARCHAR2(20) NOT NULL,
mem_no NUMBER(10) NOT NULL);


--시설예약 테이블 생성, 입력
CREATE SEQUENCE SEQ_FAC_RES
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE FACILITY_RESERVATION(
fac_res_no NUMBER(10) PRIMARY KEY,
fac_no NUMBER(10) NOT NULL,
start_date VARCHAR2(10) NOT NULL,
end_date VARCHAR2(10) NOT NULL,
pay_date VARCHAR2(50) default systimestamp NOT NULL,
payment_amt VARCHAR2(50) NOT NULL,
res_status VARCHAR2(20) NOT NULL,
mem_no NUMBER(10) NOT NULL);


--리뷰테이블 생성, 입력
CREATE SEQUENCE SEQ_REVIEW
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE REVIEW(
rev_no NUMBER(10) PRIMARY KEY,
fac_res_no NUMBER(10) NOT NULL,
category VARCHAR2(10) NOT NULL,
score VARCHAR2(10) NULL,
content VARCHAR2(1000) NULL,
reply_content VARCHAR2(1000) NULL,
rev_time VARCHAR2(50) default systimestamp NOT NULL,
reply_time VARCHAR2(50) default systimestamp NOT NULL,
mem_no NUMBER(10) NOT NULL);

-- 윤성환


-- 이우준

-- 공통코드
CREATE TABLE CODES (
	category	    CHAR(3)	    NOT NULL,
	category_name	VARCHAR(30)	NOT NULL,
	code	        CHAR(2)	    NOT NULL,
	code_name	    VARCHAR(30)	NOT NULL
);
/

-- 박성준


<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.finalPrj.exhibition.serviceImpl.ExhibitionMapper">

<!-- 공통 -->
<!-- 	<select id="selectAllExhibition" resultType="ExhibitionVO"> -->
<!-- 		SELECT * FROM  -->
<!-- 	</select> -->
	
<!-- 	홍제 -->
	
	
<!-- 	준우 -->
	
	
<!-- 	성환 -->
	
	
<!-- 	우준 -->
	<!-- 사업자의 전시 등록 신청 -->
	<insert id="insertExhibition" parameterType="ExhibitionVO">
		INSERT INTO exhibition
		VALUES(ex_seq.NEXTVAL,#{memNo},#{name},#{locationName},#{price},#{thumbnail},#{tel},#{address},#{startDate},#{endDate},#{detail},'00202','00403',SYSDATE)
	</insert>
	
	<!-- 사업자의 전시 등록 신청 목록 -->
	<select id="selectRegistrationList" parameterType="MemberVO" resultType="ExhibitionVO">
		SELECT ex_no, name, start_date, end_date, application_date, GET_CODE_NAME(approval_status) AS approval_status FROM exhibition WHERE mem_no=#{memNo}
	</select>
	
	<!--  사업자의 전시 등록 신청 상세 -->
	<select id="selectRegistrationDetail" parameterType="int" resultType="ExhibitionVO">
		SELECT e.*, GET_CODE_NAME(approval_status) AS approval_status_code_name FROM exhibition e WHERE ex_no=#{exNo}
	</select>
	
	<!-- 사업자의 승인된 전시 목록 -->
	<select id="selectProviderExhibitionList" parameterType="MemberVO" resultType="ExhibitionVO">
		SELECT * FROM exhibition WHERE mem_no=#{memNo} AND approval_status='00401'
	</select>
	
<!-- 	성준 -->
	
	

</mapper>
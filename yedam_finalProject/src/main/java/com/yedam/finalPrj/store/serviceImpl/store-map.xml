<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.yedam.finalPrj.store.serviceImpl.StoreMapper">
 <resultMap type="com.yedam.finalPrj.store.service.Store" id="store">
 	<id property ="store_no" column="store_no"/>
 	<result property="category" column="category"/>
 	<result property="name" column="name"/>
 	<result property="store_cat" column="store_cat"/>
 	<result property="address" column="address"/>
 	<result property="latitude" column="latitude"/>
 	<result property="longitude" column="longitude"/>
 	<result property="tel" column="tel"/>
 	<result property="thumbnail" column="thumnail"/>
 </resultMap>
 
 <!-- 서비스 등록 -->
 <insert id = "storeRegist" parameterType="com.yedam.finalPrj.store.service.Store">
 	<selectKey>Select CASE when max(store_no) is null then 1 
             ELSE MAX(store_no) +1 END </selectKey>
    		 insert into store values(
    		 #{store_no},#{user_serial},#{category},#{name},#{store_cat},#{address},
    		 #{latitude},#{longitude},#{tel},#{thumbnail},1)
 </insert>
 </mapper>